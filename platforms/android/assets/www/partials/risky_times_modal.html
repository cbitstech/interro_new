<div class="modal-header">
    <button type="button" class="close" ng-show="risky.riskyTimes && risky.riskyTimes.length > 0" ng-click="risky.cancel()"><span aria-hidden="true">&times;</span></button>
    <h3>Your Risky Times</h3>
</div>

<div class="modal-body">
    <h4>These are times you have indicated you might have particular trouble abstaining from smoking:</h4>

    <div class="well modal-well">
        <span ng-if="!risky.riskyTimes || risky.riskyTimes.length === 0">Add risky times below.</span>
        <div class="container-fluid risky-time-view">
            <div class="row-fluid" ng-repeat="(key, value) in risky.riskyTimes">
                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 scrub-padding top-buffer5">
                    <div><strong>{{ (value.time | date:'h:mm a') + " - " + value.day}}</strong></div>
                    <div>{{value.description}}</div>
                    <div ng-show="risky.isSessionTwoComplete()"><em>Strategy: {{ value.strategy || 'none' }}</em></div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 scrub-padding top-buffer5" >
                    <a title="edit" class="btn btn-sm btn-info"
                       ng-show="risky.isSessionTwoComplete()"
                       ng-click="risky.openEditModal(value.time, value.day, value.description, value.strategy, key, value.notificationId)">
                        <i class="glyphicon glyphicon-pencil glyphicon-sm"></i>
                    </a>
                    <a title="delete" class="btn btn-sm btn-info" ng-click="risky.deleteRiskyTime(value.id, value.notificationId)">
                        <i class="glyphicon glyphicon-remove glyphicon-sm"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <h3>Add a day and time:</h3>
    <!--<h4>Weekday</h4>-->

    <!--<div class="btn-group btn-group-justified" role="group">-->
        <!--<div class="btn-group" role="group" ng-repeat="(index, value) in risky.DAYS_OF_THE_WEEK">-->
            <!--<button id="weekday_button_{{value}}"-->
                    <!--type="button"-->
                    <!--class="btn btn-default weekday_button modal-well"-->
                    <!--ng-click="risky.selectWeekday(value)"-->
                    <!--ng-class="{'active': risky.activeButton == value}">-->
                <!--{{value}}-->
            <!--</button>-->
        <!--</div>-->
    <!--</div>-->

    <h4>Choose a time of day</h4>
    <input id="risky_time_time" type="risky_time_time" name="risky_time_time" ng-model="risky.riskyTime.time" mobiscroll-datetime="" />

    <h4>Why will this be difficult for you?</h4>
    <textarea ng-model="risky.riskyTime.description" class="form-control" name="reason" placeholder="e.g. people are smoking during break"></textarea>

    <br>
</div>

<div class="modal-footer">
    <p>{{reasons.instructionContent}}</p>
    <a id="save_button"
       class="btn btn-info"
       ng-disabled="!risky.riskyTime.time || !risky.riskyTime.description"
       ng-click="risky.saveRiskyTime()">Save</a>
    <a id="exit_button"
       class="btn btn-danger"
       ng-show="reasons.isModal"
       ng-click="reasons.cancel()">Exit</a>
</div>


<script type="text/javascript">
    $("#risky_time_time").mobiscroll().time();
</script>

